---
title: "MCP Evals"
description: "Test your MCP server's performance in different environments"
icon: "vial"
---

Your users are connecting to your MCP server from different clients like Claude Desktop, Cursor, etc, and with different LLMs. MCP evals ensures that your MCP server works across all environments.

## Running evals in the UI

Inspector provides a unified Evals tab where you can create evaluation runs, browse available models, and view results all in one place.

### Creating an evaluation run

1. Navigate to the **Evals** tab in Inspector
2. Click **Create new run** to launch the evaluation wizard
3. Follow the guided steps:
   - **Select servers**: Choose which connected MCP servers to test
   - **Choose model**: Select from MCPJam free models or your own provider models
   - **Define tests**: Create test cases manually or use AI to generate them
   - **Review & run**: Confirm your configuration and execute

### Model selection

Inspector offers two types of models for running evaluations:

- **MCPJam Free Models**: Browse and use models provided by MCPJam at no cost, including models from OpenAI, Anthropic, Google, Meta, and more
- **Your Providers**: Use models from your own API keys configured in Settings (OpenAI, Anthropic, DeepSeek, Google, Mistral, xAI, OpenRouter)

### Viewing results

All evaluation results appear in the Evals tab. You can:

- View a list of all evaluation suites with pass/fail statistics
- Click into any suite to see detailed results for each test case
- Rerun evaluations with the same configuration
- Track token usage and execution time for each test

## E2E testing with the CLI

The CLI performs MCP evals and End to End (E2E) testing by creating a simulated end user's environment and testing popular user flows.

An example of E2E test for PayPal MCP:

1. Connect the PayPal MCP server to testing agent. To simulate Claude Desktop, we can configure the agent to use a Claude model with a default system prompt.
2. Query the agent to run a typical user query like "Create a refund for order ID 412"
3. Let the testing agent run the query.
4. Check the testing agents' tracing, make sure that it called the tool `create_refund` and successfully created a refund.

## Quick Start

### Install

```bash
npm install -g @mcpjam/cli
```

### Set up tests

To set up, create a new folder directory. In that directory, we'll create a test file and an server connection file.

#### Test file

- `prompt` is what a user would type in the chat to interact with your server.
- `expectedTools` is what tools you'd expect to be called given the prompt
- Customize the environment with `model` and optional `advancedConfig`

```json weather-tests.json
{
  "tests": [
    {
      "title": "Test weather tool",
      "prompt": "What's the weather in San Francisco?",
      "expectedTools": ["get_weather"],
      "model": { "id": "claude-3-5-sonnet-20241022", "provider": "anthropic" },
      "selectedServers": ["weather-server"],
      "advancedConfig": {
        "instructions": "You are a helpful weather assistant",
        "temperature": 0.1,
        "maxSteps": 5,
        "toolChoice": "auto"
      }
    }
  ]
}
```

### Server connection file

This file is configured very similar to a `mcp.json` file. You must provide at least one `providerApiKey`.

```json local-dev.json
{
  "mcpServers": {
    "weather-server": {
      "command": "python",
      "args": ["weather_server.py"],
      "env": {
        "WEATHER_API_KEY": "${WEATHER_API_KEY}"
      }
    },
    "api-server": {
      "url": "https://api.example.com/mcp",
      "headers": {
        "Authorization": "Bearer ${API_TOKEN}"
      }
    }
  },
  "providerApiKeys": {
    "anthropic": "${ANTHROPIC_API_KEY}",
    "openai": "${OPENAI_API_KEY}",
    "deepseek": "${DEEPSEEK_API_KEY}"
  }
}
```

### Run MCP Eval

```bash
mcpjam evals run --tests weather-tests.json --environment local-dev.json
```

#### Short flags

```bash
mcpjam evals run -t weather-tests.json -e local-dev.json
```

#### CLI Options

- `--tests, -t <file>`: Path to the tests configuration file (required)
- `--environment, -e <file>`: Path to the environment configuration file (required)
- `--help, -h`: Show help information
- `--version, -V`: Display version number
